{"ast":null,"code":"import { animate, query, stagger, style, transition, trigger } from '@angular/animations';\nimport { moveItemInArray } from '@angular/cdk/drag-drop';\nimport { combineLatest } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"yah-light\";\nimport * as i3 from \"yah-cleaning\";\nimport * as i4 from \"yah-solar\";\nimport * as i5 from \"yah-weather\";\nimport * as i6 from \"@angular/cdk/drag-drop\";\nimport * as i7 from \"@angular/common\";\n\nfunction StartScreenComponent_div_5_yah_weather_button_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 10);\n  }\n}\n\nfunction StartScreenComponent_div_5_yah_weather_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"yah-weather-button\", 8);\n    i0.ɵɵtemplate(1, StartScreenComponent_div_5_yah_weather_button_2_div_1_Template, 1, 0, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StartScreenComponent_div_5_yah_light_button_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 10);\n  }\n}\n\nfunction StartScreenComponent_div_5_yah_light_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"yah-light-button\", 8);\n    i0.ɵɵtemplate(1, StartScreenComponent_div_5_yah_light_button_3_div_1_Template, 1, 0, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StartScreenComponent_div_5_yah_cleaning_button_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 10);\n  }\n}\n\nfunction StartScreenComponent_div_5_yah_cleaning_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"yah-cleaning-button\", 8);\n    i0.ɵɵtemplate(1, StartScreenComponent_div_5_yah_cleaning_button_4_div_1_Template, 1, 0, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StartScreenComponent_div_5_yah_solar_button_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 10);\n  }\n}\n\nfunction StartScreenComponent_div_5_yah_solar_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"yah-solar-button\", 8);\n    i0.ɵɵtemplate(1, StartScreenComponent_div_5_yah_solar_button_5_div_1_Template, 1, 0, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StartScreenComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵlistener(\"click\", function StartScreenComponent_div_5_Template_div_click_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const app_r1 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.handleClick($event, app_r1);\n    });\n    i0.ɵɵtemplate(2, StartScreenComponent_div_5_yah_weather_button_2_Template, 2, 0, \"yah-weather-button\", 7);\n    i0.ɵɵtemplate(3, StartScreenComponent_div_5_yah_light_button_3_Template, 2, 0, \"yah-light-button\", 7);\n    i0.ɵɵtemplate(4, StartScreenComponent_div_5_yah_cleaning_button_4_Template, 2, 0, \"yah-cleaning-button\", 7);\n    i0.ɵɵtemplate(5, StartScreenComponent_div_5_yah_solar_button_5_Template, 2, 0, \"yah-solar-button\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const app_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", app_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"weather\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"light\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"cleaning\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"solar\");\n  }\n}\n\nexport let StartScreenComponent = /*#__PURE__*/(() => {\n  class StartScreenComponent {\n    constructor(router, lightService, cleaningService, solarService, weatherService) {\n      this.router = router;\n      this.lightService = lightService;\n      this.cleaningService = cleaningService;\n      this.solarService = solarService;\n      this.weatherService = weatherService;\n      this.availableApps = [];\n      combineLatest([this.weatherService.activated$, this.lightService.isActivated$, this.cleaningService.isActivated$, this.solarService.isActivated$]).subscribe(([weatherActivated, lightActivated, cleaningActivated, solarActived]) => {\n        weatherActivated ? this.availableApps.push('weather') : this.availableApps.filter(value => value === 'weather');\n        lightActivated ? this.availableApps.push('light') : this.availableApps.filter(value => value === 'light');\n        cleaningActivated ? this.availableApps.push('cleaning') : this.availableApps.filter(value => value === 'cleaning');\n        solarActived ? this.availableApps.push('solar') : this.availableApps.filter(value => value === 'solar');\n      });\n    }\n\n    ngOnInit() {}\n\n    drop(event) {\n      moveItemInArray(this.availableApps, event.previousIndex, event.currentIndex);\n    }\n\n    goSettings() {\n      this.router.navigate(['setup']).then();\n    }\n\n    handleClick($event, app) {\n      this.router.navigate([app]).then();\n    }\n\n  }\n\n  StartScreenComponent.ɵfac = function StartScreenComponent_Factory(t) {\n    return new (t || StartScreenComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.LightService), i0.ɵɵdirectiveInject(i3.CleaningService), i0.ɵɵdirectiveInject(i4.SolarService), i0.ɵɵdirectiveInject(i5.WeatherService));\n  };\n\n  StartScreenComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StartScreenComponent,\n    selectors: [[\"app-start-screen\"]],\n    decls: 6,\n    vars: 2,\n    consts: [[1, \"button-container\"], [1, \"settings\", 3, \"click\"], [\"src\", \"./assets/settings.svg\", 1, \"settings-img\"], [\"cdkDropList\", \"\", \"cdkDropListOrientation\", \"horizontal\", 1, \"app-list\", 3, \"cdkDropListDropped\"], [1, \"container\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngSwitch\", \"click\"], [\"cdkDrag\", \"\", 4, \"ngSwitchCase\"], [\"cdkDrag\", \"\"], [\"class\", \"drag-placeholder\", 4, \"cdkDragPlaceholder\"], [1, \"drag-placeholder\"]],\n    template: function StartScreenComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵlistener(\"click\", function StartScreenComponent_Template_div_click_1_listener() {\n          return ctx.goSettings();\n        });\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵlistener(\"cdkDropListDropped\", function StartScreenComponent_Template_div_cdkDropListDropped_3_listener($event) {\n          return ctx.drop($event);\n        });\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵtemplate(5, StartScreenComponent_div_5_Template, 6, 5, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"@fadeIn\", ctx.availableApps.length);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.availableApps);\n      }\n    },\n    directives: [i6.CdkDropList, i7.NgForOf, i7.NgSwitch, i7.NgSwitchCase, i5.WeatherButtonComponent, i6.CdkDrag, i6.CdkDragPlaceholder, i2.LightButtonComponent, i3.CleaningButtonComponent, i4.SolarButtonComponent],\n    styles: [\".container[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:center;grid-gap:3rem;gap:3rem;align-items:flex-start;flex-wrap:wrap}.app-list[_ngcontent-%COMP%]{max-width:100%;min-height:60px;display:block;border-radius:4px;overflow:hidden;padding:2rem}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.app-list.cdk-drop-list-dragging[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.drag-placeholder[_ngcontent-%COMP%]{background:transparent;min-height:100%;transition:transform .25s cubic-bezier(0,0,.2,1)}.button-container[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:flex-end}.button-container[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]{background:rgba(255,255,255,.25);box-shadow:0 .4rem 2rem #1f26875e;backdrop-filter:blur(.2rem);-webkit-backdrop-filter:blur(.2rem);border-radius:.7rem;height:5rem;width:5rem;transition:all 50ms ease;margin-right:5%;display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,.2)}.button-container[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]:active{background:#fff}.button-container[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .settings-img[_ngcontent-%COMP%]{width:4rem;height:4rem}\"],\n    data: {\n      animation: [trigger('fadeIn', [transition('* => *', [query(':enter', [style({\n        opacity: 0,\n        transform: 'translateY(-15px)'\n      }), stagger('150ms', animate('500ms ease-out', style({\n        opacity: 1,\n        transform: 'translateY(0px)'\n      })))], {\n        optional: true\n      })])])]\n    }\n  });\n  return StartScreenComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}