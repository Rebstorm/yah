{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngx-pwa/local-storage\";\nexport let AppSettingsService = /*#__PURE__*/(() => {\n  class AppSettingsService {\n    constructor(localDb) {\n      this.localDb = localDb;\n      this.BG_KEY = 'YAH_BG_KEY';\n      this.SCREENSAVER_KEY = 'YAH_SCREENSAVER_KEY';\n      this.background$ = localDb.watch(this.BG_KEY, {\n        type: 'string'\n      }).pipe(map(bg => bg === undefined ? this.returnDefaultBg() : bg));\n      this.screenSaverTimeout$ = localDb.watch(this.SCREENSAVER_KEY, {\n        type: 'number'\n      }).pipe(map(timeout => timeout === undefined || timeout === 0 ? this.returnDefaultScreensaverTimeout() : timeout * 60000));\n    }\n\n    returnDefaultBg() {\n      return 'classic';\n    }\n\n    setBg(bg) {\n      return this.localDb.set(this.BG_KEY, bg, {\n        type: 'string'\n      });\n    }\n\n    setScreensaverTimeout(newScreeenTimeout) {\n      return this.localDb.set(this.SCREENSAVER_KEY, newScreeenTimeout, {\n        type: 'number'\n      });\n    }\n\n    returnDefaultScreensaverTimeout() {\n      return 60000;\n    }\n\n  }\n\n  AppSettingsService.ɵfac = function AppSettingsService_Factory(t) {\n    return new (t || AppSettingsService)(i0.ɵɵinject(i1.StorageMap));\n  };\n\n  AppSettingsService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AppSettingsService,\n    factory: AppSettingsService.ɵfac,\n    providedIn: 'root'\n  });\n  return AppSettingsService;\n})();","map":null,"metadata":{},"sourceType":"module"}